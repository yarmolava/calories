<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Результаты</title>

  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      background: #f6f8f9;
      font-family: 'Manrope', sans-serif;
    }

    .container {
      max-width: 520px;
      margin: 0 auto;
      padding: 32px 24px 60px;
    }

    .calories {
      font-family: 'Roboto Condensed', sans-serif;
      font-weight: 700;
      font-size: 22px;
      text-align: center;
      margin-bottom: 32px;
    }

    .section-title {
      font-family: 'Roboto Condensed', sans-serif;
      font-weight: 700;
      font-size: 18px;
      margin-bottom: 16px;
    }

    .macro-block {
      margin-bottom: 32px;
    }

    .macro-name {
      font-family: 'Roboto Condensed', sans-serif;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .macro-text p {
      margin: 6px 0;
      line-height: 1.6;
    }

    .warning {
      margin-top: 40px;
      line-height: 1.6;
    }
  </style>
</head>

<body>

<div class="container" id="result"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const result = document.getElementById("result");

  const weight  = +localStorage.getItem("weight");
  const height  = +localStorage.getItem("height");
  const age     = +localStorage.getItem("age");
  const activity= +localStorage.getItem("activity");
  const goal    = localStorage.getItem("goal");
  const gender  = localStorage.getItem("gender");

  if (!weight || !height || !age || !activity || !goal || !gender) return;

  let bmr = gender === "male"
    ? 10 * weight + 6.25 * height - 5 * age + 5
    : 10 * weight + 6.25 * height - 5 * age - 161;

  let calories = bmr * activity;

  if (goal === "lose") calories *= 0.85;
  if (goal === "gain") calories *= 1.12;

  // округление до десятков
  calories = Math.round(calories / 10) * 10;

  const protein = Math.round(weight * 2);
  const fat     = Math.round(calories * 0.25 / 9);
  const carbs   = Math.round((calories - (protein * 4 + fat * 9)) / 4);

  const sugarLimit = Math.round((calories * 0.10) / 4);
  const satFatLimit = Math.round((calories * 0.10) / 9);

  result.innerHTML = `
    <div class="calories">
      Твоя норма калорий: ${calories} ккал в день
    </div>

    <div class="section-title">Твое БЖУ:</div>

    <div class="macro-block">
      <div class="macro-name">Белки: ${protein} г в сутки</div>
      <div class="macro-text">
        <p>(01) Это количество оптимально для защиты мышц при похудении и эффективного роста при наборе массы.</p>
        <p>(02) Предпочтительно получать белок из разнообразных источников: рыба, морепродукты, птица, яйца, молочные продукты (творог, греческий йогурт), бобовые.</p>
        <p>(03) Рекомендуется ограничить переработанные мясопродукты (колбасы, сосиски) и красное мясо до 1–2 раз в неделю.</p>
      </div>
    </div>

    <div class="macro-block">
      <div class="macro-name">Углеводы: ${carbs} г в сутки</div>
      <div class="macro-text">
        <p>(01) Основной источник энергии для тренировок и работы мозга.</p>
        <p>(02) Минимум половину углеводов получай из цельнозерновых продуктов: гречка, овсянка, бурый рис, цельнозерновой хлеб, макароны из твердых сортов пшеницы.</p>
        <p>(03) Добавленные сахара ограничь до 10% от общих калорий — это примерно ${sugarLimit} г в день.</p>
      </div>
    </div>

    <div class="macro-block">
      <div class="macro-name">Жиры: ${fat} г в сутки</div>
      <div class="macro-text">
        <p>(01) Жиры критически важны для производства гормонов, усвоения витаминов A, D, E, K и здоровья кожи, волос и нервной системы.</p>
        <p>(02) Насыщенные жиры рекомендуется ограничить до 10% от общих калорий — это примерно ${satFatLimit} г в день.</p>
        <p>(03) Отдавай предпочтение ненасыщенным жирам: жирная рыба, авокадо, орехи, семена, оливковое и льняное масло.</p>
      </div>
    </div>

    <div class="warning">
      ⚠️ Важно:<br>
      Это стартовая точка. Формула дает точность ±10%. Отслеживай изменения и при необходимости корректируй норму.<br><br>
      Подробнее о том, как отслеживать прогресс, когда пересчитывать норму и как применять эти цифры на практике — читай в основном гайде.
    </div>
  `;
});
</script>

</body>
</html>
