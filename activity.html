<script>
const manualCheckbox = document.getElementById("manualCheckbox");
const manualInput = document.getElementById("manualActivityInput");
const nextBtn = document.getElementById("activityNext");
const items = document.querySelectorAll('.activity-item');

/* утилита: снять выбор со всех карточек */
function clearActivityItems() {
  items.forEach(i => i.classList.remove('selected'));
}

/* выбор карточки активности */
items.forEach(item => {
  item.addEventListener('click', () => {
    clearActivityItems();

    item.classList.add('selected');

    // сбрасываем ручной ввод
    manualCheckbox.checked = false;
    manualInput.style.display = "none";
    manualInput.value = "";

    nextBtn.disabled = false;
  });
});

/* ручной коэффициент — как отдельный вариант */
manualCheckbox.addEventListener("change", () => {
  if (manualCheckbox.checked) {
    clearActivityItems();
    manualInput.style.display = "block";
    nextBtn.disabled = true; // пока не введено число
  } else {
    manualInput.style.display = "none";
    manualInput.value = "";
    nextBtn.disabled = true;
  }
});

/* активация кнопки только при валидном числе */
manualInput.addEventListener("input", () => {
  const value = parseFloat(manualInput.value);
  nextBtn.disabled = !(value > 0);
});
</script>
